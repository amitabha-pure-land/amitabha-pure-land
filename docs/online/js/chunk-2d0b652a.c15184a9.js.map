{"version":3,"sources":["webpack:///./src/views/UserManagement.vue?96a5","webpack:///./src/components/UserList.vue?8f24","webpack:///./src/components/UserPreview.vue?1e3a","webpack:///src/components/UserPreview.vue","webpack:///./src/components/UserPreview.vue?ce3f","webpack:///./src/components/UserPreview.vue","webpack:///src/components/UserList.vue","webpack:///./src/components/UserList.vue?3620","webpack:///./src/components/UserList.vue","webpack:///src/views/UserManagement.vue","webpack:///./src/views/UserManagement.vue?02b9","webpack:///./src/views/UserManagement.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","_v","_s","users","length","searching","directives","name","rawName","value","expression","domProps","on","$event","filterUsers","filterText","target","composing","clearFilter","createUser","_l","user","index","key","_e","userLink","displayName","staticStyle","username","displayRoles","email","phone","components","props","computed","params","slug","id","methods","component","UserPreview","data","$store","dispatch","$router","push","UserList","to","from","next","console","log","path","startsWith","store"],"mappings":"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","file":"js/chunk-2d0b652a.c15184a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-management\"},[_c('UserList',{attrs:{\"type\":\"feed\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoadingUsers)?_c('div',{staticClass:\"user-preview\"},[_vm._v(\"正在获取用户列表...\")]):_c('div',[(_vm.searching)?_c('h3',[_vm._v(\"共有 \"+_vm._s(_vm.users.length)+\" 个符合搜索条件的用户\")]):_c('h3',[_vm._v(\"总计有 \"+_vm._s(_vm.users.length)+\" 个注册用户\")]),_c('hr'),(_vm.users.length > 0 || _vm.searching)?_c('div',[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterText),expression:\"filterText\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\",\"placeholder\":\"搜索用户\"},domProps:{\"value\":(_vm.filterText)},on:{\"change\":function($event){return _vm.filterUsers(_vm.filterText)},\"input\":function($event){if($event.target.composing){ return; }_vm.filterText=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilter}},[_vm._v(\"\\n            清除\\n          \")]),_c('b-button',{attrs:{\"variant\":\"warning\",\"type\":\"button\"},on:{\"click\":_vm.createUser}},[_vm._v(\"\\n            创建新用户\\n          \")])],1)]),_vm._l((_vm.users),function(user,index){return _c('UserPreview',{key:index,attrs:{\"user\":user}})})],2):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-preview\"},[_c('router-link',{staticClass:\"preview-link\",attrs:{\"to\":_vm.userLink}},[_c('h3',{domProps:{\"textContent\":_vm._s(_vm.displayName())}}),_c('ul',{staticStyle:{\"list-style-type\":\"none\"}},[_c('li',[_vm._v(\"用户名：\"+_vm._s(_vm.user.username))]),_c('li',[_vm._v(\"用户角色：\"+_vm._s(_vm.displayRoles()))]),_c('li',[_vm._v(\"电邮地址：\"+_vm._s(_vm.user.email))]),_c('li',[_vm._v(\"电话号码：\"+_vm._s(_vm.user.phone))])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-preview\">\n    <router-link :to=\"userLink\" class=\"preview-link\">\n      <h3 v-text=\"displayName()\" />\n      <ul style=\"list-style-type: none\">\n        <li>用户名：{{ user.username }}</li>\n        <li>用户角色：{{ displayRoles() }}</li>\n        <li>电邮地址：{{ user.email }}</li>\n        <li>电话号码：{{ user.phone }}</li>\n      </ul>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport user from \"../store/user.module\";\n\nexport default {\n  name: \"UserPreview\",\n  components: {},\n  props: {\n    user: { type: Object, required: true }\n  },\n  computed: {\n    userLink() {\n      return {\n        name: \"user\",\n        params: {\n          slug: this.user.id\n        }\n      };\n    }\n  },\n  methods: {\n    displayName() {\n      return user.getDisplayName(this.user);\n    },\n    displayRoles() {\n      return user.getDisplayRoles(this.user.roles);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPreview.vue?vue&type=template&id=cd46364e&\"\nimport script from \"./UserPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div v-if=\"isLoadingUsers\" class=\"user-preview\">正在获取用户列表...</div>\n    <div v-else>\n      <h3 v-if=\"searching\">共有 {{ users.length }} 个符合搜索条件的用户</h3>\n      <h3 v-else>总计有 {{ users.length }} 个注册用户</h3>\n      <hr />\n      <div v-if=\"users.length > 0 || searching\">\n        <div class=\"input-group mb-3\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            aria-label=\"Recipient's username\"\n            aria-describedby=\"basic-addon2\"\n            v-model=\"filterText\"\n            v-on:change=\"filterUsers(filterText)\"\n            placeholder=\"搜索用户\"\n          />\n          <div class=\"input-group-append\">\n            <button\n              class=\"btn btn-outline-secondary\"\n              type=\"button\"\n              @click=\"clearFilter\"\n            >\n              清除\n            </button>\n            <b-button variant=\"warning\" type=\"button\" @click=\"createUser\">\n              创建新用户\n            </b-button>\n          </div>\n        </div>\n        <UserPreview v-for=\"(user, index) in users\" :user=\"user\" :key=\"index\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport UserPreview from \"./UserPreview\";\nimport { FILTER_USERS } from \"../store/actions.type\";\n\nexport default {\n  name: \"UserList\",\n  components: {\n    UserPreview\n  },\n  computed: {\n    ...mapGetters([\"usersCount\", \"isLoadingUsers\", \"users\"])\n  },\n  mounted() {\n    this.clearFilter();\n  },\n  data: function() {\n    return {\n      filterText: \"\",\n      searching: false\n    };\n  },\n  methods: {\n    filterUsers(filterText) {\n      this.$store.dispatch(FILTER_USERS, filterText);\n      this.searching = true;\n    },\n    clearFilter() {\n      this.filterText = \"\";\n      this.$store.dispatch(FILTER_USERS, this.filterText);\n      this.searching = false;\n    },\n    createUser() {\n      this.$router.push({ name: \"userCreate\" });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=84015c50&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"user-management\"><UserList type=\"feed\" /></div>\n</template>\n\n<script>\nimport UserList from \"@/components/UserList\";\nimport { FETCH_USERS } from \"../store/actions.type\";\nimport store from \"@/store\";\n\nexport default {\n  name: \"UserManagement\",\n  components: {\n    UserList\n  },\n  beforeRouteEnter(to, from, next) {\n    console.log(`from: ${from.path}`);\n    if (!from || !from.path || !from.path.startsWith(\"/user\")) {\n      store.dispatch(FETCH_USERS).then(() => {\n        next();\n      });\n    } else {\n      next();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManagement.vue?vue&type=template&id=21f24115&\"\nimport script from \"./UserManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}