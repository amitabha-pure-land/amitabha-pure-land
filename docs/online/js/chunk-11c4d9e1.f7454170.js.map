{"version":3,"sources":["webpack:///./src/views/ReportManagement.vue?f144","webpack:///src/views/ReportManagement.vue","webpack:///./src/views/ReportManagement.vue?8e58","webpack:///./src/views/ReportManagement.vue","webpack:///./src/components/ClassTeam.vue?5a48","webpack:///src/components/ClassTeam.vue","webpack:///./src/components/ClassTeam.vue?0076","webpack:///./src/components/ClassTeam.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","classInfo","name","practiceId","attrs","_e","_l","classTeam","index","key","id","members","length","staticRenderFns","components","ClassTeam","DownloadReport","computed","to","from","next","store","component","staticClass","member","dummy","lastWeek","toString","replace","count","isClassAdmin","forAdmin","completed","on","$event","setCompleted","classTeamOptions","assignTeam","model","value","callback","$$v","$set","expression","setLeader","removeMember","props","data","canAddSubmodule","methods","console","log","splice","i","classTeams","team","assignedTeamId","push","$store","dispatch","removedStudents","JSON","stringify","msg","practiceName","options","okText","cancelText","loader","message","title","body","thisComponent","$dialog"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAkB,eAAEI,EAAG,MAAM,CAACJ,EAAIM,GAAG,iBAAiBF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,WAAWN,EAAIO,GAAGP,EAAIQ,UAAUC,MAAM,cAAcT,EAAIO,GAAIP,EAAIQ,UAAUE,WAEvPV,EAAIQ,UAAsB,aAAI,OADhC,UACyC,YAAaR,EAAIQ,UAAgC,uBAAEJ,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACO,MAAM,CAAC,UAAaX,EAAIQ,UAAUE,WAE1J,KAAQV,EAAIQ,UAAsB,aAAI,KADvC,aACiD,GAAGR,EAAIY,KAAKZ,EAAIa,GAAIb,EAAc,YAAE,SAASc,EAAUC,GAAO,OAAOX,EAAG,MAAM,CAACY,IAAIF,EAAUG,GAAKH,EAAUL,KAAOM,GAAO,CAAEA,EAAQ,GAAKD,EAAUI,QAAQC,OAAS,EAAGf,EAAG,MAAM,CAACA,EAAG,YAAY,CAACO,MAAM,CAAC,UAAYG,KAAaV,EAAG,iBAAiB,CAACO,MAAM,CAAC,UAAYG,EAAU,UAAad,EAAIQ,UAAUE,WAE5V,GAAMI,EAAc,KAAKd,EAAIQ,UAAsB,aAAI,KADtDM,EAAc,KAAI,WAC8C,GAAGd,EAAIY,WAAU,MAC/FQ,EAAkB,G,4DCyEtB,GACEX,KAAM,mBACNY,WAAY,CACVC,UAAJ,OACIC,eAAJ,QAEEC,SAAU,IACZ,gBACA,iBACA,YACA,aACA,eACA,mBAGE,iBAAiBC,EAAIC,EAAMC,GACzBC,EAAJ,yCACMD,QCjGoV,I,YCOtVE,EAAY,eACd,EACA9B,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAS,E,2CClBf,IAAI9B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAAC0B,YAAY,cAAcnB,MAAM,CAAC,OAASX,EAAIc,UAAUL,OAAO,CAAET,EAAIc,UAAe,MAAEV,EAAG,cAAc,CAACJ,EAAIM,GAAG,eAAeN,EAAIO,GAAGP,EAAIc,UAAUI,QAAQC,QAAQ,gBAAqC,MAApBnB,EAAIc,UAAUG,GAAYb,EAAG,cAAc,CAACJ,EAAIM,GAAG,cAAcN,EAAIO,GAAGP,EAAIc,UAAUI,QAAQC,QAAQ,mBAAmBf,EAAG,cAAc,CAACJ,EAAIM,GAAG,gBAAgBN,EAAIO,GAAGP,EAAIc,UAAUI,QAAQC,QAAQ,gBAAgBnB,EAAIa,GAAIb,EAAIc,UAAiB,SAAE,SAASiB,EAAOhB,GAAO,OAAOX,EAAG,gBAAgB,CAACY,IAAIe,EAAOd,GAAKF,EAAMe,YAAY,OAAOnB,MAAM,CAAC,QAA8B,MAApBX,EAAIc,UAAUG,IAAcjB,EAAIc,UAAUkB,MAC3qB,MACChC,EAAIc,UAAUkB,OAAkB,GAATjB,EAExB,MADA,QACQ,CAAEf,EAAIQ,UAAkB,SAAEJ,EAAG,eAAe,CAACO,MAAM,CAAC,SAAW,GAAG,MAAS,KAAOI,EAAQ,GAAK,KAAQgB,EAAW,QAAO/B,EAAIQ,UAAoB,WAAEJ,EAAG,eAAe,CAACO,MAAM,CAAC,SAAW,GAAG,MAAS,KAAOI,EAAQ,GAAK,KAAQgB,EAAW,KAAI,SAAYA,EAAOE,SAEtQF,EAAOE,SACJC,WACAC,QAAQ,0BAA2B,OAHtC,OAGgD,SAAYJ,EAAOK,MAEnEL,EAAOK,MACJF,WACAC,QAAQ,0BAA2B,OAHtC,OAGgD,kBAAmB/B,EAAG,eAAe,CAACO,MAAM,CAAC,SAAW,GAAG,MAAS,KAAOI,EAAQ,GAAK,KAAQgB,EAAW,KAAI,QAAWA,EAAe,SAAI,QAAWA,EAAY,MAAI,kBAAoB/B,EAAIqC,eAAiBrC,EAAIQ,UAAU8B,UAAYtC,EAAIQ,UAAUE,WAAYN,EAAG,WAAW,CAACO,MAAM,CAAC,QAAU,UAAU,SAAWoB,EAAOQ,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzC,EAAI0C,aAAa3B,MAAU,CAACf,EAAIM,GAAGN,EAAIO,GAAGwB,EAAOQ,UAAY,MAAQ,SAASvC,EAAIY,KAAKR,EAAG,uBAAuB,CAAEJ,EAAIQ,UAAkB,SAAEJ,EAAG,MAAM,CAAsB,MAApBJ,EAAIc,UAAUG,GAAYb,EAAG,gBAAgB,CAACO,MAAM,CAAC,QAAUX,EAAI2C,kBAAkBH,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOzC,EAAI4C,WAAWH,EAAQ1B,KAAS8B,MAAM,CAACC,MAAOf,EAAqB,eAAEgB,SAAS,SAAUC,GAAMhD,EAAIiD,KAAKlB,EAAQ,iBAAkBiB,IAAME,WAAW,2BAA2BlD,EAAIY,MAAOZ,EAAIc,UAAUkB,OAAShC,EAAIc,UAAUG,IAAMF,EAAQ,EAAGX,EAAG,WAAW,CAACO,MAAM,CAAC,QAAU,QAAQ6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzC,EAAImD,UAAUpC,MAAU,CAACf,EAAIM,GAAG,UAAUN,EAAIY,KAAKR,EAAG,WAAW,CAACO,MAAM,CAAC,QAAU,WAAW6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzC,EAAIoD,aAAarC,MAAU,CAACf,EAAIM,GAAGN,EAAIO,GAAGP,EAAIc,UAAUkB,MAAQ,KAAO,UAAU,GAAGhC,EAAIY,QAAQ,OAAM,IAAI,IACluCQ,EAAkB,G,6CCkFtB,GACEX,KAAM,YACN4C,MAAO,CACLvC,UAAW,CAAf,0BAEEwC,KAAM,WACJ,MAAO,CACLC,iBAAiB,IAGrB/B,SAAU,IACZ,gBACA,eACA,YACA,aACA,oBACA,mBACA,qBAGEgC,QAAS,CACP,WAAWV,EAAO/B,GAChB0C,QAAQC,IAAI,aAAaZ,YAAgB/B,KACzC,MAAMgB,EAAS9B,KAAKa,UAAUI,QAAQH,GACtCd,KAAKa,UAAUI,QAAQyC,OAAO5C,EAAO,GAErC,IAAK,IAAI6C,EAAI,EAAGA,EAAI3D,KAAK4D,WAAW1C,OAAQyC,IAAK,CAC/C,MAAME,EAAO7D,KAAK4D,WAAWD,GAC7B,GAAIE,EAAK7C,IAAMc,EAAOgC,eAAgB,CACpChC,EAAOgC,eAAiB,KACxBD,EAAK5C,QAAQ8C,KAAKjC,GAClB,OAGJ9B,KAAKgE,OAAOC,SAAS,EAA3B,oBAEI,aAAanD,GACX,MAAMgB,EAAS9B,KAAKa,UAAUI,QAAQH,GACtCd,KAAKa,UAAUI,QAAQyC,OAAO5C,EAAO,GAEjCd,KAAKa,UAAUG,GACjBhB,KAAK4D,WAAW,GAAG3C,QAAQ8C,KAAKjC,GAEhC9B,KAAKkE,gBAAgBH,KAAKjC,GAG5B9B,KAAKgE,OAAOC,SAAS,EAA3B,oBAEI,UAAUnD,GACR,MAAMgB,EAAS9B,KAAKa,UAAUI,QAAQH,GACtCd,KAAKa,UAAUI,QAAQyC,OAAO5C,EAAO,GACrCd,KAAKa,UAAUI,QAAQyC,OAAO,EAAG,EAAG5B,GAEpC9B,KAAKgE,OAAOC,SAAS,EAA3B,oBAEI,aAAanD,GACX,MAAMgB,EAAS9B,KAAKa,UAAUI,QAAQH,GAEtC0C,QAAQC,IAAI,kBAAkBU,KAAKC,UAAUtC,IAE7C,IAAIuC,EAAM,KAAKvC,EAAOtB,UAAUR,KAAKO,UAAU+D,kBAE/C,MAAMC,EAAU,CACdC,OAAQ,KACRC,WAAY,KACZC,QAAQ,GAEJC,EAAU,CACdC,MAAO5E,KAAKO,UAAU+D,aACtBO,KAAMR,GAEFS,EAAgB9E,KAEtBA,KAAK+E,QACX,aACA,kBACQ,EAAR,+CACU,OAAV,KACU,WAAV,yBAEA,SACU,QAAV,IACA,0DAEU,EAAV,sBACU,EAAV,QACU,OAAV,oBAEA,UACU,QAAV,8CACU,EAAV,QACU,EAAV,cACA,+CAIA,UACQ,QAAR,sBChMmV,I,YCO/UnD,EAAY,eACd,EACA9B,EACAqB,GACA,EACA,KACA,KACA,MAIa,OAAAS,E","file":"js/chunk-11c4d9e1.f7454170.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoadingStats)?_c('div',[_vm._v(\"正在获取统计信息...\")]):_c('div',[_c('h3',[_vm._v(\"\\n      \"+_vm._s(_vm.classInfo.name)+\" --\\n      \"+_vm._s(!_vm.classInfo.practiceId\n          ? \"闻思进度统计\"\n          : ((_vm.classInfo.practiceName) + \"实修统计\"))+\"\\n    \")]),(_vm.classInfo.canDownloadClassReport)?_c('div',[_c('DownloadReport',{attrs:{\"worksheet\":!_vm.classInfo.practiceId\n            ? '中组出席统计'\n            : (\"中组\" + (_vm.classInfo.practiceName) + \"统计\")}})],1):_vm._e(),_vm._l((_vm.classTeams),function(classTeam,index){return _c('div',{key:classTeam.id + classTeam.name + index},[(index > 0 && classTeam.members.length > 0)?_c('div',[_c('ClassTeam',{attrs:{\"classTeam\":classTeam}}),_c('DownloadReport',{attrs:{\"classTeam\":classTeam,\"worksheet\":!_vm.classInfo.practiceId\n              ? ((classTeam.name) + \"出席统计\")\n              : (\"\" + (classTeam.name) + (_vm.classInfo.practiceName) + \"统计\")}})],1):_vm._e()])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"isLoadingStats\">正在获取统计信息...</div>\n    <div v-else>\n      <h3>\n        {{ classInfo.name }} --\n        {{\n          !classInfo.practiceId\n            ? \"闻思进度统计\"\n            : `${classInfo.practiceName}实修统计`\n        }}\n      </h3>\n      <div v-if=\"classInfo.canDownloadClassReport\">\n        <DownloadReport\n          :worksheet=\"\n            !classInfo.practiceId\n              ? '中组出席统计'\n              : `中组${classInfo.practiceName}统计`\n          \"\n        />\n        <!--\n        <br v-if=\"!classInfo.practiceId\" />\n        <DownloadReport\n          v-if=\"!classInfo.practiceId\"\n          :worksheet=\"`中组学修进度统计`\"\n          :formalStudy=\"true\"\n        />\n        <br v-if=\"classInfo.hasSelfStudySessions\" />\n        <DownloadReport\n          v-if=\"classInfo.hasSelfStudySessions\"\n          worksheet=\"中组自学进度统计\"\n          :selfStudy=\"true\"\n        />\n        <hr />\n        -->\n      </div>\n      <div\n        v-for=\"(classTeam, index) in classTeams\"\n        :key=\"classTeam.id + classTeam.name + index\"\n      >\n        <div v-if=\"index > 0 && classTeam.members.length > 0\">\n          <ClassTeam :classTeam=\"classTeam\" />\n          <DownloadReport\n            :classTeam=\"classTeam\"\n            :worksheet=\"\n              !classInfo.practiceId\n                ? `${classTeam.name}出席统计`\n                : `${classTeam.name}${classInfo.practiceName}统计`\n            \"\n          />\n          <!--\n          <br v-if=\"!classInfo.practiceId\" />\n          <DownloadReport\n            v-if=\"!classInfo.practiceId\"\n            :classTeam=\"classTeam\"\n            :worksheet=\"`${classTeam.name}学修进度统计`\"\n            :formalStudy=\"true\"\n          />\n          <br v-if=\"classInfo.hasSelfStudySessions\" />\n          <DownloadReport\n            v-if=\"classInfo.hasSelfStudySessions\"\n            :classTeam=\"classTeam\"\n            :worksheet=\"`${classTeam.name}自学进度统计`\"\n            :selfStudy=\"true\"\n          />\n          <hr />\n          -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport ClassTeam from \"@/components/ClassTeam\";\nimport DownloadReport from \"@/components/DownloadReport\";\nimport { FETCH_STATS } from \"../store/actions.type\";\nimport store from \"@/store\";\n\nexport default {\n  name: \"ReportManagement\",\n  components: {\n    ClassTeam,\n    DownloadReport\n  },\n  computed: {\n    ...mapGetters([\n      \"isLoadingStats\",\n      \"classInfo\",\n      \"classTeams\",\n      \"isClassAdmin\",\n      \"isSystemAdmin\"\n    ])\n  },\n  beforeRouteEnter(to, from, next) {\n    store.dispatch(FETCH_STATS, to.params).then(() => {\n      next();\n    });\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportManagement.vue?vue&type=template&id=88dac98c&\"\nimport script from \"./ReportManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{staticClass:\"text-center\",attrs:{\"header\":_vm.classTeam.name}},[(_vm.classTeam.dummy)?_c('b-card-text',[_vm._v(\"\\n      将删除 \"+_vm._s(_vm.classTeam.members.length)+\" 名学员\\n    \")]):(_vm.classTeam.id == null)?_c('b-card-text',[_vm._v(\"\\n      共有 \"+_vm._s(_vm.classTeam.members.length)+\" 名学员未分组\\n    \")]):_c('b-card-text',[_vm._v(\"\\n      本组共有 \"+_vm._s(_vm.classTeam.members.length)+\" 名学员\\n    \")]),_vm._l((_vm.classTeam.members),function(member,index){return _c('b-input-group',{key:member.id + index,staticClass:\"mt-3\",attrs:{\"prepend\":_vm.classTeam.id == null || _vm.classTeam.dummy\n          ? '学员：'\n          : !_vm.classTeam.dummy && index == 0\n          ? '组长：'\n          : '组员：'}},[(_vm.classInfo.forAdmin)?_c('b-form-input',{attrs:{\"readonly\":\"\",\"value\":(\"(\" + (index + 1) + \") \" + (member.name))}}):(_vm.classInfo.practiceId)?_c('b-form-input',{attrs:{\"readonly\":\"\",\"value\":(\"(\" + (index + 1) + \") \" + (member.name) + \"\\t上周：\" + (!member.lastWeek\n              ? '未报数'\n              : member.lastWeek\n                  .toString()\n                  .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')) + \"\\t总计：\" + (!member.count\n              ? '未报数'\n              : member.count\n                  .toString()\n                  .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')) + \"\\n          \")}}):_c('b-form-input',{attrs:{\"readonly\":\"\",\"value\":(\"(\" + (index + 1) + \") \" + (member.name) + \"\\t上周：\" + (member.lastWeek) + \"\\t总计：\" + (member.count) + \"\\n          \")}}),(_vm.isClassAdmin && !_vm.classInfo.forAdmin && _vm.classInfo.practiceId)?_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":member.completed},on:{\"click\":function($event){return _vm.setCompleted(index)}}},[_vm._v(_vm._s(member.completed ? \"已圆满\" : \"圆满\"))]):_vm._e(),_c('b-input-group-append',[(_vm.classInfo.forAdmin)?_c('div',[(_vm.classTeam.id == null)?_c('b-form-select',{attrs:{\"options\":_vm.classTeamOptions},on:{\"change\":function($event){return _vm.assignTeam($event, index)}},model:{value:(member.assignedTeamId),callback:function ($$v) {_vm.$set(member, \"assignedTeamId\", $$v)},expression:\"member.assignedTeamId\"}}):_vm._e(),(!_vm.classTeam.dummy && _vm.classTeam.id && index > 0)?_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.setLeader(index)}}},[_vm._v(\"设为组长\")]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.removeMember(index)}}},[_vm._v(_vm._s(_vm.classTeam.dummy ? \"恢复\" : \"删除\"))])],1):_vm._e()])],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-card class=\"text-center\" :header=\"classTeam.name\">\n      <b-card-text v-if=\"classTeam.dummy\">\n        将删除 {{ classTeam.members.length }} 名学员\n      </b-card-text>\n      <b-card-text v-else-if=\"classTeam.id == null\">\n        共有 {{ classTeam.members.length }} 名学员未分组\n      </b-card-text>\n      <b-card-text v-else>\n        本组共有 {{ classTeam.members.length }} 名学员\n      </b-card-text>\n      <b-input-group\n        v-for=\"(member, index) in classTeam.members\"\n        :key=\"member.id + index\"\n        :prepend=\"\n          classTeam.id == null || classTeam.dummy\n            ? '学员：'\n            : !classTeam.dummy && index == 0\n            ? '组长：'\n            : '组员：'\n        \"\n        class=\"mt-3\"\n      >\n        <b-form-input\n          v-if=\"classInfo.forAdmin\"\n          readonly\n          :value=\"`(${index + 1}) ${member.name}`\"\n        ></b-form-input>\n        <b-form-input\n          v-else-if=\"classInfo.practiceId\"\n          readonly\n          :value=\"\n            `(${index + 1}) ${member.name}\\t上周：${\n              !member.lastWeek\n                ? '未报数'\n                : member.lastWeek\n                    .toString()\n                    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n            }\\t总计：${\n              !member.count\n                ? '未报数'\n                : member.count\n                    .toString()\n                    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n            }\n            `\n          \"\n        ></b-form-input>\n        <b-form-input\n          v-else\n          readonly\n          :value=\"\n            `(${index + 1}) ${member.name}\\t上周：${member.lastWeek}\\t总计：${\n              member.count\n            }\n            `\n          \"\n        ></b-form-input>\n        <b-button\n          v-if=\"isClassAdmin && !classInfo.forAdmin && classInfo.practiceId\"\n          variant=\"success\"\n          v-on:click=\"setCompleted(index)\"\n          :disabled=\"member.completed\"\n          >{{ member.completed ? \"已圆满\" : \"圆满\" }}</b-button\n        >\n        <b-input-group-append>\n          <div v-if=\"classInfo.forAdmin\">\n            <b-form-select\n              v-if=\"classTeam.id == null\"\n              v-model=\"member.assignedTeamId\"\n              :options=\"classTeamOptions\"\n              v-on:change=\"assignTeam($event, index)\"\n            ></b-form-select>\n            <b-button\n              v-if=\"!classTeam.dummy && classTeam.id && index > 0\"\n              variant=\"info\"\n              v-on:click=\"setLeader(index)\"\n              >设为组长</b-button\n            >\n            <b-button variant=\"warning\" v-on:click=\"removeMember(index)\">{{\n              classTeam.dummy ? \"恢复\" : \"删除\"\n            }}</b-button>\n          </div>\n        </b-input-group-append>\n      </b-input-group>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport Parse from \"parse\";\nimport { mapGetters } from \"vuex\";\nimport { RESET_STUDENTS } from \"../store/actions.type\";\n\nexport default {\n  name: \"ClassTeam\",\n  props: {\n    classTeam: { type: Object, required: true }\n  },\n  data: function() {\n    return {\n      canAddSubmodule: false\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"isClassAdmin\",\n      \"classInfo\",\n      \"classTeams\",\n      \"classTeamsChanged\",\n      \"classTeamOptions\",\n      \"removedStudents\"\n    ])\n  },\n  methods: {\n    assignTeam(value, index) {\n      console.log(`selected: ${value} index: ${index}`);\n      const member = this.classTeam.members[index];\n      this.classTeam.members.splice(index, 1);\n\n      for (var i = 0; i < this.classTeams.length; i++) {\n        const team = this.classTeams[i];\n        if (team.id == member.assignedTeamId) {\n          member.assignedTeamId = null;\n          team.members.push(member);\n          break;\n        }\n      }\n      this.$store.dispatch(RESET_STUDENTS, { changed: true });\n    },\n    removeMember(index) {\n      const member = this.classTeam.members[index];\n      this.classTeam.members.splice(index, 1);\n\n      if (this.classTeam.id) {\n        this.classTeams[0].members.push(member);\n      } else {\n        this.removedStudents.push(member);\n      }\n\n      this.$store.dispatch(RESET_STUDENTS, { changed: true });\n    },\n    setLeader(index) {\n      const member = this.classTeam.members[index];\n      this.classTeam.members.splice(index, 1);\n      this.classTeam.members.splice(0, 0, member);\n\n      this.$store.dispatch(RESET_STUDENTS, { changed: true });\n    },\n    setCompleted(index) {\n      const member = this.classTeam.members[index];\n\n      console.log(`setCompleted - ${JSON.stringify(member)}`);\n\n      var msg = `确认${member.name}已圆满${this.classInfo.practiceName}实修?`;\n\n      const options = {\n        okText: \"确认\",\n        cancelText: \"取消\",\n        loader: true // default: false - when set to true, the proceed button shows a loader when clicked; and a dialog object will be passed to the then() callback\n      };\n      const message = {\n        title: this.classInfo.practiceName,\n        body: msg\n      };\n      const thisComponent = this;\n\n      this.$dialog\n        .confirm(message, options)\n        .then(function(dialog) {\n          Parse.Cloud.run(\"admin:markUserPracticeCompleted\", {\n            userId: member.id,\n            practiceId: thisComponent.classInfo.practiceId\n          })\n            .then(result => {\n              console.log(\n                `markUserPracticeCompleted - result: ${JSON.stringify(result)}`\n              );\n              member.completed = result.completed;\n              dialog.close();\n              window.location.reload();\n            })\n            .catch(e => {\n              console.log(`error in markUserPracticeCompleted: ${e}`);\n              dialog.close();\n              thisComponent.$dialog.alert(\n                `error in markUserPracticeCompleted: ${e}`\n              );\n            });\n        })\n        .catch(e => {\n          console.log(`error: ${e}`);\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassTeam.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassTeam.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClassTeam.vue?vue&type=template&id=b96f7cbc&\"\nimport script from \"./ClassTeam.vue?vue&type=script&lang=js&\"\nexport * from \"./ClassTeam.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}