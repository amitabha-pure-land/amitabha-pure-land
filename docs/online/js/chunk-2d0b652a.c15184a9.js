(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b652a"],{"1d56":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-management"},[s("UserList",{attrs:{type:"feed"}})],1)},i=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLoadingUsers?s("div",{staticClass:"user-preview"},[e._v("正在获取用户列表...")]):s("div",[e.searching?s("h3",[e._v("共有 "+e._s(e.users.length)+" 个符合搜索条件的用户")]):s("h3",[e._v("总计有 "+e._s(e.users.length)+" 个注册用户")]),s("hr"),e.users.length>0||e.searching?s("div",[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.filterText,expression:"filterText"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Recipient's username","aria-describedby":"basic-addon2",placeholder:"搜索用户"},domProps:{value:e.filterText},on:{change:function(t){return e.filterUsers(e.filterText)},input:function(t){t.target.composing||(e.filterText=t.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:e.clearFilter}},[e._v("\n            清除\n          ")]),s("b-button",{attrs:{variant:"warning",type:"button"},on:{click:e.createUser}},[e._v("\n            创建新用户\n          ")])],1)]),e._l(e.users,(function(e,t){return s("UserPreview",{key:t,attrs:{user:e}})}))],2):e._e()])])},a=[],l=s("2f62"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-preview"},[s("router-link",{staticClass:"preview-link",attrs:{to:e.userLink}},[s("h3",{domProps:{textContent:e._s(e.displayName())}}),s("ul",{staticStyle:{"list-style-type":"none"}},[s("li",[e._v("用户名："+e._s(e.user.username))]),s("li",[e._v("用户角色："+e._s(e.displayRoles()))]),s("li",[e._v("电邮地址："+e._s(e.user.email))]),s("li",[e._v("电话号码："+e._s(e.user.phone))])])])],1)},o=[],c=s("e894"),p={name:"UserPreview",components:{},props:{user:{type:Object,required:!0}},computed:{userLink(){return{name:"user",params:{slug:this.user.id}}}},methods:{displayName(){return c["a"].getDisplayName(this.user)},displayRoles(){return c["a"].getDisplayRoles(this.user.roles)}}},d=p,h=s("2877"),m=Object(h["a"])(d,u,o,!1,null,null,null),v=m.exports,f=s("6c33"),_={name:"UserList",components:{UserPreview:v},computed:{...Object(l["c"])(["usersCount","isLoadingUsers","users"])},mounted(){this.clearFilter()},data:function(){return{filterText:"",searching:!1}},methods:{filterUsers(e){this.$store.dispatch(f["l"],e),this.searching=!0},clearFilter(){this.filterText="",this.$store.dispatch(f["l"],this.filterText),this.searching=!1},createUser(){this.$router.push({name:"userCreate"})}}},g=_,b=Object(h["a"])(g,n,a,!1,null,null,null),y=b.exports,w=s("4360"),x={name:"UserManagement",components:{UserList:y},beforeRouteEnter(e,t,s){console.log("from: "+t.path),t&&t.path&&t.path.startsWith("/user")?s():w["a"].dispatch(f["j"]).then(()=>{s()})}},U=x,C=Object(h["a"])(U,r,i,!1,null,null,null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-2d0b652a.c15184a9.js.map